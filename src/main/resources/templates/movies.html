<!doctype html>
<html lang="ro" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8"/>
    <title>Movies</title>

    <!-- Bootstrap -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
          rel="stylesheet">

    <!-- App CSS -->
    <link rel="stylesheet" th:href="@{/css/app.css}">
</head>
<body>

<!-- NAVBAR -->
<div th:replace="~{fragments/navbar :: navbar('movies')}"></div>

<main class="container py-5">

    <h1 class="text-light mb-4">Movies</h1>

    <div class="row g-4">

        <!-- MOVIE CARD -->
        <div class="col-md-4 col-lg-3" th:each="m : ${movies}">
            <div class="card h-100 bg-dark text-light shadow-lg rounded-4 overflow-hidden">

                <!-- POSTER -->
                <img class="card-img-top"
                     th:src="@{/img/movies/{file}(file=${m.imageUrl != null ? m.imageUrl : 'no-poster.png'})}"
                     alt="Movie poster"
                     style="height: 360px; object-fit: cover;">

                <!-- CONTENT -->
                <div class="card-body d-flex flex-column">

                    <h5 class="card-title fw-semibold"
                        th:text="${m.title}">
                        Movie title
                    </h5>

                    <div class="text-muted small mb-2">
                        ‚≠ê <span th:text="${m.rating}">0</span>
                        |
                        <span th:text="${m.duration}">0</span> min
                    </div>

                    <div class="fw-semibold mb-3">
                        <span th:text="${m.basePrice}">0</span> lei
                    </div>

                    <a class="btn btn-outline-light mt-auto"
                       th:href="@{/movies/{id}(id=${m.idMovie})}">
                        Details
                    </a>
                </div>
            </div>
        </div>

        <!-- EMPTY STATE -->
        <div th:if="${#lists.isEmpty(movies)}"
             class="text-center text-muted py-5">
            No movies available.
        </div>

    </div>

</main>

</body>
</html>
